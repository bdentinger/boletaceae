Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 64
Rules claiming more threads will be scaled down.
Job stats:
job                      count
---------------------  -------
filter_locus_by_keep         3
locus_tree_firstpass         3
mask_locus                   1
realign_locus_refined        3
remask_locus_refined         3
treeshrink_locus             3
total                       16

Select jobs to execute...

[Fri Aug 29 13:54:34 2025]
rule locus_tree_firstpass:
    input: data/align/RPB2.masked.fasta
    output: data/trees/loci/RPB2.firstpass.treefile
    jobid: 21
    reason: Missing output files: data/trees/loci/RPB2.firstpass.treefile; Updated input files: data/align/RPB2.masked.fasta
    wildcards: locus=RPB2
    threads: 64
    resources: tmpdir=/tmp

[Fri Aug 29 14:11:33 2025]
Finished job 21.
1 of 16 steps (6%) done
Select jobs to execute...

[Fri Aug 29 14:11:33 2025]
rule locus_tree_firstpass:
    input: data/align/TEF1.masked.fasta
    output: data/trees/loci/TEF1.firstpass.treefile
    jobid: 13
    reason: Missing output files: data/trees/loci/TEF1.firstpass.treefile; Updated input files: data/align/TEF1.masked.fasta
    wildcards: locus=TEF1
    threads: 64
    resources: tmpdir=/tmp

[Fri Aug 29 14:34:51 2025]
Finished job 13.
2 of 16 steps (12%) done
Select jobs to execute...

[Fri Aug 29 14:34:51 2025]
rule treeshrink_locus:
    input: data/trees/loci/RPB2.firstpass.treefile
    output: data/trees/loci/RPB2.treeshrink.keep.txt, data/trees/loci/RPB2.treeshrink.removed.txt
    jobid: 20
    reason: Missing output files: data/trees/loci/RPB2.treeshrink.keep.txt; Input files updated by another job: data/trees/loci/RPB2.firstpass.treefile
    wildcards: locus=RPB2
    resources: tmpdir=/tmp


[Fri Aug 29 14:34:51 2025]
rule treeshrink_locus:
    input: data/trees/loci/TEF1.firstpass.treefile
    output: data/trees/loci/TEF1.treeshrink.keep.txt, data/trees/loci/TEF1.treeshrink.removed.txt
    jobid: 12
    reason: Missing output files: data/trees/loci/TEF1.treeshrink.keep.txt; Input files updated by another job: data/trees/loci/TEF1.firstpass.treefile
    wildcards: locus=TEF1
    resources: tmpdir=/tmp


[Fri Aug 29 14:34:51 2025]
rule mask_locus:
    input: data/align/RPB1.aln.fasta
    output: data/align/RPB1.masked.fasta
    jobid: 6
    reason: Updated input files: data/align/RPB1.aln.fasta
    wildcards: locus=RPB1
    resources: tmpdir=/tmp

[Fri Aug 29 14:34:52 2025]
Finished job 20.
3 of 16 steps (19%) done
Select jobs to execute...

[Fri Aug 29 14:34:52 2025]
rule filter_locus_by_keep:
    input: data/qc/RPB2.dedup.fasta, data/trees/loci/RPB2.treeshrink.keep.txt
    output: data/qc/RPB2.kept.fasta
    jobid: 18
    reason: Input files updated by another job: data/trees/loci/RPB2.treeshrink.keep.txt
    wildcards: locus=RPB2
    resources: tmpdir=/tmp

[Fri Aug 29 14:34:52 2025]
Finished job 12.
4 of 16 steps (25%) done
[Fri Aug 29 14:34:52 2025]
Finished job 6.
5 of 16 steps (31%) done
Select jobs to execute...

[Fri Aug 29 14:34:52 2025]
rule filter_locus_by_keep:
    input: data/qc/TEF1.dedup.fasta, data/trees/loci/TEF1.treeshrink.keep.txt
    output: data/qc/TEF1.kept.fasta
    jobid: 10
    reason: Input files updated by another job: data/trees/loci/TEF1.treeshrink.keep.txt
    wildcards: locus=TEF1
    resources: tmpdir=/tmp

Select jobs to execute...
[Fri Aug 29 14:34:52 2025]
Finished job 18.
6 of 16 steps (38%) done

[Fri Aug 29 14:34:52 2025]
rule realign_locus_refined:
    input: data/qc/RPB2.kept.fasta
    output: data/align/RPB2.aln.refined.fasta
    jobid: 17
    reason: Missing output files: data/align/RPB2.aln.refined.fasta; Input files updated by another job: data/qc/RPB2.kept.fasta
    wildcards: locus=RPB2
    threads: 48
    resources: tmpdir=/tmp

[Fri Aug 29 14:34:52 2025]
Finished job 10.
7 of 16 steps (44%) done
Select jobs to execute...
Terminating processes on user request, this might take some time.
[Fri Aug 29 14:38:00 2025]
Error in rule realign_locus_refined:
    jobid: 17
    input: data/qc/RPB2.kept.fasta
    output: data/align/RPB2.aln.refined.fasta
    shell:
        mafft --thread 48 --adjustdirectionaccurately --localpair --maxiterate 1000 --anysymbol \
            data/qc/RPB2.kept.fasta > data/align/RPB2.aln.refined.fasta
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Complete log: .snakemake/log/2025-08-29T135434.080509.snakemake.log
