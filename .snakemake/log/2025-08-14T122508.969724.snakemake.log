Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 64
Rules claiming more threads will be scaled down.
Job stats:
job                           count
--------------------------  -------
align_locus                       3
build_backbone_constrained        1
concat_supermatrix                1
enrich_taxon_names                1
fetch_locus                       1
filter_locus_by_keep              3
locus_tree_firstpass              3
mask_locus                        3
pretty_tree                       1
realign_locus_refined             3
remask_locus_refined              3
site_build                        1
treeshrink_locus                  3
total                            27

Select jobs to execute...

[Thu Aug 14 12:25:09 2025]
rule align_locus:
    input: data/qc/TEF1.merged.fasta
    output: data/align/TEF1.aln.fasta
    jobid: 33
    reason: Missing output files: data/align/TEF1.aln.fasta; Updated input files: data/qc/TEF1.merged.fasta
    wildcards: locus=TEF1
    threads: 48
    resources: tmpdir=/tmp

[Thu Aug 14 13:14:06 2025]
Finished job 33.
1 of 27 steps (4%) done
Select jobs to execute...

[Thu Aug 14 13:14:06 2025]
rule align_locus:
    input: data/qc/RPB2.merged.fasta
    output: data/align/RPB2.aln.fasta
    jobid: 23
    reason: Missing output files: data/align/RPB2.aln.fasta; Updated input files: data/qc/RPB2.merged.fasta
    wildcards: locus=RPB2
    threads: 48
    resources: tmpdir=/tmp


[Thu Aug 14 13:14:06 2025]
rule mask_locus:
    input: data/align/TEF1.aln.fasta
    output: data/align/TEF1.masked.fasta
    jobid: 32
    reason: Missing output files: data/align/TEF1.masked.fasta; Input files updated by another job: data/align/TEF1.aln.fasta
    wildcards: locus=TEF1
    resources: tmpdir=/tmp

[Thu Aug 14 13:14:07 2025]
Finished job 32.
2 of 27 steps (7%) done
Select jobs to execute...
[Thu Aug 14 13:30:54 2025]
Finished job 23.
3 of 27 steps (11%) done

[Thu Aug 14 13:30:54 2025]
rule locus_tree_firstpass:
    input: data/align/TEF1.masked.fasta
    output: data/trees/loci/TEF1.firstpass.treefile
    jobid: 31
    reason: Missing output files: data/trees/loci/TEF1.firstpass.treefile; Input files updated by another job: data/align/TEF1.masked.fasta
    wildcards: locus=TEF1
    threads: 64
    resources: tmpdir=/tmp

[Thu Aug 14 13:30:54 2025]
Error in rule locus_tree_firstpass:
    jobid: 31
    input: data/align/TEF1.masked.fasta
    output: data/trees/loci/TEF1.firstpass.treefile
    shell:
        
        mkdir -p data/trees/loci
        iqtree3 -s data/align/TEF1.masked.fasta -m MFP -T 64 -fast -pre data/trees/loci/TEF1.firstpass
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-08-14T122508.969724.snakemake.log
